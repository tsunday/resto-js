<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="pl" lang="pl">

<head>
	<title>Resto-App</title>
	<link rel="stylesheet" href="css/style.css" type="text/css" />
	<link rel="stylesheet" href="css/mobile.css" type="text/css" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
		crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="css/jcImgScroll.css" />
	<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
		crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
		crossorigin="anonymous"></script>
	<script type="text/javascript" src="js/jquery-ui.min.js"></script>
	<script type="text/javascript" src="js/action.js"></script>
	<script type="text/javascript" src="js/jcImgScroll.js"></script>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
</head>

<body ng-app="restoApp">
	<section id="header" class="side parallax">
		<div id="topMenu" class="wrapper">
			<a id="logo" class="topBack" href="#header">Resto-App</a>
			<div class="mobile-menu"><img src="graphics/menu-icon.png" /></div>
			<ul>
				<li>
					<a class="slide active" href="#header">home</a>
				</li>
				<li>
					<a class="slide" href="#photos">photos</a>
				</li>
				<li>
					<a class="slide" href="#information">information</a>
				</li>
				<li>
					<a class="slide" href="#menu">menu</a>
				</li>
				<li>
					<a class="slide" href="#rates">booking</a>
				</li>
			</ul>
		</div>
		<div class="rotator-wrapper rotator-wrapper-head">
			<div class="preloader4"></div>
			<div class="rotator-container">
				<img src="images/home/home-img-01.jpg" />
				<img src="images/home/home-img-02.jpg" />
				<img src="images/home/home-img-03.jpg" />
				<img src="images/home/home-img-04.jpg" />
				<img src="images/home/home-img-05.jpg" />
			</div>
			<ul class="navigation"></ul>
		</div>
		<p class="col2p content">
			Aquarius is a real gem: a lovely big house on the prettiest little jewel of all the Caribbean islands, Nevis, 40 miles west
			of Antigua and 50 miles south of St Bart’s. Aquarius nestles amid palms and mango trees in a quiet spot 400ft up the jungly
			side of Mount Nevis. It is only a five-minute drive from the longest and best beach on the island, ten minutes from the
			quaint 18th Century capital village, Charlestown, and just fifteen minutes from the sleepy little airport. Scheduled air-lines
			fly in daily from Puerto Rico, Antigua and St Maarten. There are also regular direct flights to the nearby island of St
			Kitts from the US, Canada and England. Aquarius has an attractive courtyard entrance, large kitchen with pantry and laundry
			room, four air-conditioned double ensuite bedrooms, a huge air-conditioned Great Room, a wide veranda, a double garage,
			and of course a stunning view across miles of the Caribbean Sea towards the golden sunset and the nearby sister island
			of St Kitts.
		</p>
		<div class="next">
			<a href="#"></a>
		</div>
	</section>

	<section id="photos" class="side wrapper ">
		<div class="train-wrapper">
			<div class="preloader4"></div>
			<div class="train-rotator photos">
				<em class="sPrev"></em>
				<em class="sNext"></em>
				<ul>
					<li><img class="rot1" src="images/gallery/gallery-img-02.jpg" alt=""></a>
					</li>
					<li><img class="rot2" src="images/gallery/gallery-img-03.jpg" alt=""></a>
					</li>
					<li><img class="rot3" src="images/gallery/gallery-img-04.jpg" alt=""></a>
					</li>
					<li><img class="rot4" src="images/gallery/gallery-img-05.jpg" alt=""></a>
					</li>
					<li><img class="rot5" src="images/gallery/gallery-img-01.jpg" alt=""></a>
					</li>
					<li><img class="rot6" src="images/gallery/gallery-img-06.jpg" alt=""></a>
					</li>
					<li><img class="rot7" src="images/gallery/gallery-img-07.jpg" alt=""></a>
					</li>
					<li><img class="rot8" src="images/gallery/gallery-img-07.jpg" alt=""></a>
					</li>
				</ul>
			</div>
		</div>
		<div class="next">
			<a href="#"></a>
		</div>
	</section>
	<section id="information" class="side wrapper parallax">
		<p class="col3p">
			Aquarius is on the remote, peaceful edge of Fern Hill Estate, so that there is only one nearby house, 100 yards away. The
			development in this corner of Fern Hill consists of only six stylish, modern houses, most of them on one-acre plots and
			all with swimming pools and colourful tropical gardens. Nearby Pinney’s Beach, a long, wide stretch of white sand and
			tranquil aquamarine sea, is often completely deserted even in the high season except for the plummeting pelicans and a
			fishing boat or two. It is home to six little open-air beach bistros (including the famous Sunshine’s Lounge) as well
			as a smart French restaurant, the Coconut Grove, and a luxurious Four Seasons resort with three restaurants, a huge white
			beach, calm, protected ocean swimming, two pools, tennis courts, shops, a spa, and an immaculate 18-hole Robert Trent
			Jones golf course. Nevis’s capital village, Charlestown, which is a ten-minute drive from Fern Hill, is a delicious little
			settlement with buildings dating back to the 18th century, among them the old Bath Hotel, which was the height of fashionable
			luxury in the 18th century and a Mecca for European visitors (including the English poet Coleridge) who sailed the Atlantic
			to bathe in the hot volcanic springs at Bath village. Charlestown has two museums, one commemorating Admiral Horatio Nelson,
			who married a pretty young local widow, Fanny Nisbet, here in 1787; the other the 1757 birthplace of Alexander Hamilton,
			who emigrated to the United States when he was fifteen and became one of the USA’s founding fathers and first Secretary
			of the Treasury. Among the many delights of Nevis are the old sugar plantation houses, some of them in ruins, others now
			elegant, picturesque hotels: the Montpelier (with a particularly good restaurant), the Hermitage and the Nisbet. And the
			island is perfect for lovers of walking, hiking, horse riding, sailing, fishing, scuba diving and water skiing. Favourite
			restaurants near Fern Hill include the Gallipot (delicious lobster and fresh fish), the Chrishi Beach (excellent beach
			burgers), the Yachtsman (fantastic pizzas), the Double Deuce (whose owner/chef has worked at the Berkeley and Waldorf
			hotels in London), and the Nisbet Beach Club, where a melodious steel pan group plays throughout Sunday lunch. In fact
			Nevis is suffused with music: the bouncy reggae and calypso rhythms that waft from balconies and doorways all over Charlestown;
			the delightful string bands that play their simple but haunting homemade instruments; the Tuesday and Friday night guitars-and-drums
			jamming sessions at the Oualie Beach Hotel, where everyone is encouraged to join in, if only to shake a tambourine or
			maraccas; the fabulous local bands like Jazzique, which plays every Friday night at the Lime beach restaurant; the karaoke
			evenings at the Double Deuce. As Duke Orsino says in Shakespeare’s play Twelfth Night, ‘if music be the food of love,
			play on.’ At times it seems that Nevis might have been the lovely, musical, magical, enchanted island that inspired Shakespeare
			to write The Tempest.
		</p>
		<div class="next">
			<a href="#"></a>
		</div>
	</section>
	<div id="productController" ng-controller="ProductListController" ng-init="showData()">
		<section id="menu">
			<div class="container">
				<p>
				<a href="#">Twój koszyk <span class="badge">{{cartCnt}}</span></a>
				</p>
				<div class="row">
					<div class="col-sm-6 col-md-3" ng-repeat="datalist in datalists | limitTo: paginationLimit()">
						<div class="thumbnail">
							<img src="{{datalist.imagePath}}" alt="{{datalist.title}}" class="img-responsive">
							<div class="caption">
								<h3>{{datalist.title}}</h3>
								<!-- Modal -->
								<div class="modal fade" id="modal{{datalist.alias}}" role="dialog">
									<div class="modal-dialog">

										<!-- Modal content-->
										<div class="modal-content">
											<div class="modal-header">
												<button type="button" class="close" data-dismiss="modal">&times;</button>
												<h4 class="modal-title">{{datalist.title}}</h4>
											</div>
											<img src="{{datalist.imagePath}}" alt="{{datalist.title}}" class="img-responsive">
											<div class="modal-body">
												<p>{{datalist.details}}</p>
											</div>
											<h4>Ocena użytkowników</h4>
											<p>{{datalist.rate}}</p>
											<h4>Komentarze</h4>
											<div id="comBox-{{datalist.alias}}">
												<div ng-repeat="comment in datalist.comments">
													<div class="panel panel-default">
														<div class="panel-body">
															{{comment}}
														</div>
													</div>
												</div>
											</div>
											<div class="panel panel-default">
												<div class="panel-body">
													<div class="input-group">
														<input type="text" class="form-control" id="commentTxt" placeholder="Komentarz" aria-describedby="basic-addon1">
														<span class="input-group-btn">
															<button class="btn btn-default comment" onclick="addComment()" type="button">Wyślij!</button>
														</span>
													</div>
												</div>
											</div>
											<div class="modal-footer">
												<button type="button" class="btn btn-info" ng-click="rate(datalist.alias)">Kciuk w górę</button>
												<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
											</div>
										</div>

									</div>
								</div>
								<p>{{datalist.description}}</p>
								<button type="button" class="btn btn-info" data-toggle="modal" data-target="#modal{{datalist.alias}}">Szczegóły dania</button>
								<div class="clearfix">
									<p>
										<div class="price">{{datalist.price}}$</div> <a ng-click="addToCart(datalist.alias)" class="btn btn-success pull-right" role="button">Zamów teraz!</a></p>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="pagination pagination-centered">
					<button class="show-more-btn" ng-show="hasMoreItemsToShow()" ng-click="showMoreItems()">Więcej</button>
				</div>

			</div>
		</section>

		<section id="booking">
			<h3>Złóż zamówienie wybranych potraw i zarezerwuj stolik</h3>
			<!-- Modal -->
			<div class="modal fade" id="formularz" role="dialog">
				<div class="modal-dialog">

					<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4 class="modal-title">Stwórz zamówienie</h4>
						</div>
						
						<form>
							Imię i nazwisko: <input type="text" ng-model="name">
							Adres: <input type="text" ng-model="address">
							Telefon: <input type="text" ng-model="phone">

							Aby złożyć zamówienie potwierdź poniższe pola:
							<input type="checkbox" ng-model="apprCheck"> Akceptuję regulamin i potwierdzam zamówienie stolika wraz z wybranymi daniami.
						</form>
						<div class="modal-footer">
							<button type="button" ng-show="apprCheck" class="btn btn-info" ng-click="createOrder()">Zatwierdź</button>
							<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						</div>
					</div>

				</div>
			</div>
			<p>{{datalist.description}}</p>
			<button type="button" class="btn btn-info" data-toggle="modal" data-target="#formularz">Złóż zamówienie</button>
			<div class="clearfix">
		</section>
	</div>
<script type="text/javascript" src="js/simple_rotator.js"></script>
<script type="text/javascript" src="js/train_rotator.js"></script>
<script src="js/coverflow.js"></script>
<script>
	var t1;
	var t2;
	var t2;
	$(window).load(function () {
		$('.rotator-wrapper').each(function () {
			var r = new SimpleRotator(this);
			rotators.push(r);
			r.init();
			r.slideCallback = continueSlide;
		});
		$(".rotator-container").animate({ opacity: 1 }, 200);
		$(".train-rotator").animate({ opacity: 1 }, 200);
		$(".preloader4").hide();
		t1 = new TrainRotator(".facil", 610);
		t2 = new TrainRotator(".photos", 577);
		t1.updateStuff();
		t2.updateStuff();
		rotators.push(t1);
		rotators.push(t2);
		$("#mypop").popover();
	});
	$(".facil .sPrev").click(function () {
		t1.prevImg();
	})
	$(".facil .sNext").click(function () {
		t1.nextImg();
	})
	$(".photos .sPrev").click(function () {
		t2.prevImg();
	})
	$(".photos .sNext").click(function () {
		t2.nextImg();
	})
	$(".facilCover").jcImgScroll({
		width: 458,
		height: 610,
	});
	$(".photoCover").jcImgScroll({
		width: 770,
		height: 577,
	});
	// $.coverflow.support.transform3d = false;
	$(function () {
		$("#accordion").accordion({
			heightStyle: "content"
		});
	});

</script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
<script>
var socket = io.connect('http://localhost:3000');
$(window).load(function () {
	socket.emit('messages', { my: 'test from client' });

	var appElement = document.querySelector('#productController');
  var $scope = angular.element(appElement).scope();
	console.log($scope);
	console.log($scope.datalists);
	$scope.datalists.forEach(function(el){
		var comBox = "comBox-" + el.alias;
		console.log(comBox);
		socket.on('comBox-' + el.alias, function(data){
			$("#" + comBox).append($('<div class="panel panel-default">').text('<div class="panel-body">' + data + '</div>'));
		}); 
	})
	var comBox = "comBox-hum";
	socket.on(comBox, function(data){
		console.log(data);
		$("#" + comBox).append($('<div class="panel panel-default">').text(data));
	}); 
	socket.on('messages', function (data) {
		console.log(data);
		});
	
});

function addComment(){
		console.log('comment added');
		socket.emit('comBox-hum', $('#commentTxt').val());
};

</script>


<script src="/js/restoApp.js"></script>
</body>

</html>